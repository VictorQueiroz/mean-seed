"use strict";var socket=io.connect();angular.module("App",["ngRoute","ngAnimate","ngSanitize","App/Routes","App/Controllers","App/Filters","App/Directives","App/Services","App/Partials","Auth","ui.bootstrap","mgcrea.ngStrap"]);
"use strict";angular.module("App/Controllers",["User/Controllers","Post/Controllers"]);
"use strict";angular.module("App/Directives",["Auth/Directives"]);
"use strict";angular.module("App/Filters",[]);
"use strict";angular.module("App/Routes",["ngRoute","User/Routes","Post/Routes"]).config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{templateUrl:"index.tpl.html"}).when("/about-us",{templateUrl:"about-us.tpl.html"}).when("/authentication",{templateUrl:"authentication.tpl.html",controller:"AuthCtrl",guest:!0}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]);
"use strict";angular.module("App/Services",["User/Services"]).value("version","0.0.1").factory("$socket",["$window",function(e){return e.io()}]);
"use strict";angular.module("Auth/Service",["ngCookies","Session"]);
"use strict";angular.module("Auth/Directive/IfAuthenticated",["Session/Service"]).directive("ifAuthenticated",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result||i.remove()})}}}]);
"use strict";angular.module("Auth/Directive/IfGuest",["Session/Service"]).directive("ifGuest",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result&&i.remove()})}}}]);
"use strict";angular.module("Auth/Directives",["Auth/Directive/IfAuthenticated","Auth/Directive/IfGuest"]);
"use strict";angular.module("Auth",["ngRoute","Session/Service"]).run(["$rootScope","$route","$location","Session",function(o,e,t,n){o.$on("$routeChangeStart",function(o,e){var a=e.$$route;console.log("Checking if you can access this location...");var s=n.isAuthenticated;a.guest?(console.log("This route are reserved for guests!"),console.log("Checking if you are a guest..."),s.then(function(o){o.result?(console.log("You are not a guest."),console.log("You can not access this area."),t.path("/")):o.result||console.log("You are a guest, you can go on!")})):a.authenticated&&(console.log("This route are reserved for authenticated users!"),console.log("Checking if you are authenticated..."),s.then(function(o){o.result?o.result&&console.log("You are authenticated, you can go on!"):(console.log("You are not authenticated."),console.log("You can not access this area."),t.path("/"))}))})}]);
"use strict";angular.module("Post/Service",["ngResource"]).factory("Post",["$resource",function(r){return r("",{},{get:{url:"/api/posts/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/posts",params:{},method:"GET",isArray:!0},store:{url:"/api/posts",params:{},method:"POST",isArray:!1},update:{url:"/api/posts/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/posts/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("Post/Ctrl/PostDetail",["ngRoute","Post/Service"]).controller("PostDetailCtrl",["$scope","$routeParams","Post",function(t,o,e){t.post=e.get({id:o.id})}]);
"use strict";angular.module("Post/Ctrl/PostList",["Post/Service"]).controller("PostListCtrl",["$scope","Post",function(t,s){t.posts=s.list()}]);
"use strict";angular.module("Post/Controllers",["Post/Ctrl/PostList","Post/Ctrl/PostDetail"]);
"use strict";angular.module("Post/Routes",["Post/Controllers"]).config(["$routeProvider",function(t){t.when("/posts",{templateUrl:"posts/list.tpl.html",controller:"PostListCtrl"}).when("/posts/:id",{templateUrl:"posts/show.tpl.html",controller:"PostDetailCtrl"})}]);
"use strict";angular.module("Post/Services",["ngResource","Post/Service"]);
"use strict";angular.module("Session/Service",["ngCookies"]).factory("Session",["$http","$cookieStore",function(t){var e=t.get("/auth/check");return{isAuthenticated:e.then(function(t){return t.data.result?{result:!0}:{result:!1}}),getUser:e.then(function(t){return t.data.result?t.data.user:{result:!1}})}}]);
"use strict";angular.module("Session",["Session/Service"]);
"use strict";angular.module("User/Ctrl/Auth",["App/Services"]).controller("AuthCtrl",["$scope","$http","$alert","$socket","$location",function(t,e,r,a,n){a.on("user authenticated",function(t){alert("Congratulations, "+t.username+", you're logged!")}),a.on("user unauthorized",function(){alert("Sorry, you can not access this area!")}),a.on("user authentication error",function(){alert("Ocorreu um erro, tente novamente mais tarde!")}),t.authenticate=function(t){e.post("/auth/local",t).then(function(t){var e=t.data;t.data.result||a.emit("user unauthorized",{}),e.username?(a.emit("user authenticated",e),n.path("/")):a.emit("user authentication error",{})})}}]);
"use strict";angular.module("User/Ctrl/Profile",["Session/Service"]).controller("ProfileCtrl",["$scope","Session",function(e,r){r.getUser.then(function(r){e.user=r})}]);
"use strict";angular.module("User/Service",["ngResource"]).factory("User",["$resource",function(r){return r("",{},{get:{url:"/api/users/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/users",params:{},method:"GET",isArray:!0},store:{url:"/api/users",params:{},method:"POST",isArray:!1},update:{url:"/api/users/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/users/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("User/Ctrl/UserDetail",["ngRoute","User/Service"]).controller("UserDetailCtrl",["$scope","$routeParams","User",function(e,r,t){e.user=t.get({id:r.id})}]);
"use strict";angular.module("User/Ctrl/UserList",["User/Service"]).controller("UserListCtrl",["$scope","User",function(r,s){r.users=s.list()}]);
"use strict";angular.module("User/Controllers",["User/Ctrl/Auth","User/Ctrl/Profile","User/Ctrl/UserList","User/Ctrl/UserDetail"]);
"use strict";angular.module("User/Routes",["User/Controllers"]).config(["$routeProvider",function(r){r.when("/profile",{templateUrl:"users/profile.tpl.html",controller:"ProfileCtrl"})}]);
"use strict";angular.module("User/Services",["ngResource","User/Service"]);
"use strict";angular.module("Auth/Service",["ngCookies","Session"]);
"use strict";angular.module("Auth/Directive/IfAuthenticated",["Session/Service"]).directive("ifAuthenticated",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result||i.remove()})}}}]);
"use strict";angular.module("Auth/Directive/IfGuest",["Session/Service"]).directive("ifGuest",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result&&i.remove()})}}}]);
"use strict";angular.module("Auth/Directives",["Auth/Directive/IfAuthenticated","Auth/Directive/IfGuest"]);
"use strict";angular.module("Auth",["ngRoute","Session/Service"]).run(["$rootScope","$route","$location","Session",function(o,e,t,n){o.$on("$routeChangeStart",function(o,e){var a=e.$$route;console.log("Checking if you can access this location...");var s=n.isAuthenticated;a.guest?(console.log("This route are reserved for guests!"),console.log("Checking if you are a guest..."),s.then(function(o){o.result?(console.log("You are not a guest."),console.log("You can not access this area."),t.path("/")):o.result||console.log("You are a guest, you can go on!")})):a.authenticated&&(console.log("This route are reserved for authenticated users!"),console.log("Checking if you are authenticated..."),s.then(function(o){o.result?o.result&&console.log("You are authenticated, you can go on!"):(console.log("You are not authenticated."),console.log("You can not access this area."),t.path("/"))}))})}]);
"use strict";angular.module("Post/Service",["ngResource"]).factory("Post",["$resource",function(r){return r("",{},{get:{url:"/api/posts/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/posts",params:{},method:"GET",isArray:!0},store:{url:"/api/posts",params:{},method:"POST",isArray:!1},update:{url:"/api/posts/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/posts/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("Post/Ctrl/PostDetail",["ngRoute","Post/Service"]).controller("PostDetailCtrl",["$scope","$routeParams","Post",function(t,o,e){t.post=e.get({id:o.id})}]);
"use strict";angular.module("Post/Ctrl/PostList",["Post/Service"]).controller("PostListCtrl",["$scope","Post",function(t,s){t.posts=s.list()}]);
"use strict";angular.module("Post/Controllers",["Post/Ctrl/PostList","Post/Ctrl/PostDetail"]);
"use strict";angular.module("Post/Routes",["Post/Controllers"]).config(["$routeProvider",function(t){t.when("/posts",{templateUrl:"posts/list.tpl.html",controller:"PostListCtrl"}).when("/posts/:id",{templateUrl:"posts/show.tpl.html",controller:"PostDetailCtrl"})}]);
"use strict";angular.module("Post/Services",["ngResource","Post/Service"]);
"use strict";angular.module("Session/Service",["ngCookies"]).factory("Session",["$http","$cookieStore",function(t){var e=t.get("/auth/check");return{isAuthenticated:e.then(function(t){return t.data.result?{result:!0}:{result:!1}}),getUser:e.then(function(t){return t.data.result?t.data.user:{result:!1}})}}]);
"use strict";angular.module("Session",["Session/Service"]);
"use strict";angular.module("User/Ctrl/Auth",["App/Services"]).controller("AuthCtrl",["$scope","$http","$alert","$socket","$location",function(t,e,r,a,n){a.on("user authenticated",function(t){alert("Congratulations, "+t.username+", you're logged!")}),a.on("user unauthorized",function(){alert("Sorry, you can not access this area!")}),a.on("user authentication error",function(){alert("Ocorreu um erro, tente novamente mais tarde!")}),t.authenticate=function(t){e.post("/auth/local",t).then(function(t){var e=t.data;t.data.result||a.emit("user unauthorized",{}),e.username?(a.emit("user authenticated",e),n.path("/")):a.emit("user authentication error",{})})}}]);
"use strict";angular.module("User/Ctrl/Profile",["Session/Service"]).controller("ProfileCtrl",["$scope","Session",function(e,r){r.getUser.then(function(r){e.user=r})}]);
"use strict";angular.module("User/Service",["ngResource"]).factory("User",["$resource",function(r){return r("",{},{get:{url:"/api/users/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/users",params:{},method:"GET",isArray:!0},store:{url:"/api/users",params:{},method:"POST",isArray:!1},update:{url:"/api/users/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/users/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("User/Ctrl/UserDetail",["ngRoute","User/Service"]).controller("UserDetailCtrl",["$scope","$routeParams","User",function(e,r,t){e.user=t.get({id:r.id})}]);
"use strict";angular.module("User/Ctrl/UserList",["User/Service"]).controller("UserListCtrl",["$scope","User",function(r,s){r.users=s.list()}]);
"use strict";angular.module("User/Controllers",["User/Ctrl/Auth","User/Ctrl/Profile","User/Ctrl/UserList","User/Ctrl/UserDetail"]);
"use strict";angular.module("User/Routes",["User/Controllers"]).config(["$routeProvider",function(r){r.when("/profile",{templateUrl:"users/profile.tpl.html",controller:"ProfileCtrl"})}]);
"use strict";angular.module("User/Services",["ngResource","User/Service"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzLmpzIiwiZGlyZWN0aXZlcy5qcyIsImZpbHRlcnMuanMiLCJyb3V0ZXMuanMiLCJzZXJ2aWNlcy5qcyIsImNvbXBvbmVudHMvYXV0aC9BdXRoLVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2F1dGgvSWZBdXRoZW50aWNhdGVkLURpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvYXV0aC9JZkd1ZXN0LURpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvYXV0aC9kaXJlY3RpdmVzLmpzIiwiY29tcG9uZW50cy9hdXRoL21vZHVsZS5qcyIsImNvbXBvbmVudHMvcG9zdC9Qb3N0LVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Bvc3QvUG9zdERldGFpbC1DdHJsLmpzIiwiY29tcG9uZW50cy9wb3N0L1Bvc3RMaXN0LUN0cmwuanMiLCJjb21wb25lbnRzL3Bvc3QvY29udHJvbGxlcnMuanMiLCJjb21wb25lbnRzL3Bvc3Qvcm91dGVzLmpzIiwiY29tcG9uZW50cy9wb3N0L3NlcnZpY2VzLmpzIiwiY29tcG9uZW50cy9zZXNzaW9uL1Nlc3Npb24tU2VydmljZS5qcyIsImNvbXBvbmVudHMvc2Vzc2lvbi9tb2R1bGUuanMiLCJjb21wb25lbnRzL3VzZXIvQXV0aC1DdHJsLmpzIiwiY29tcG9uZW50cy91c2VyL1Byb2ZpbGUtQ3RybC5qcyIsImNvbXBvbmVudHMvdXNlci9Vc2VyLVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3VzZXIvVXNlckRldGFpbC1DdHJsLmpzIiwiY29tcG9uZW50cy91c2VyL1VzZXJMaXN0LUN0cmwuanMiLCJjb21wb25lbnRzL3VzZXIvY29udHJvbGxlcnMuanMiLCJjb21wb25lbnRzL3VzZXIvcm91dGVzLmpzIiwiY29tcG9uZW50cy91c2VyL3NlcnZpY2VzLmpzIl0sIm5hbWVzIjpbInNvY2tldCIsImlvIiwiY29ubmVjdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImd1ZXN0Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsInZhbHVlIiwiZmFjdG9yeSIsIiR3aW5kb3ciLCJkaXJlY3RpdmUiLCJTZXNzaW9uIiwibGluayIsIiRzY29wZSIsIiRlbGVtZW50IiwiaXNBdXRoZW50aWNhdGVkIiwidGhlbiIsInJlcyIsInJlc3VsdCIsInJlbW92ZSIsInJ1biIsIiRyb290U2NvcGUiLCIkcm91dGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsIm5leHQiLCJwYXJhbXMiLCIkJHJvdXRlIiwiY29uc29sZSIsImxvZyIsInBhdGgiLCJhdXRoZW50aWNhdGVkIiwiJHJlc291cmNlIiwiZ2V0IiwidXJsIiwiaWQiLCJtZXRob2QiLCJpc0FycmF5IiwibGlzdCIsInN0b3JlIiwidXBkYXRlIiwiZGVzdHJveSIsIiRyb3V0ZVBhcmFtcyIsIlBvc3QiLCJwb3N0IiwicG9zdHMiLCIkaHR0cCIsImRhdGEiLCJnZXRVc2VyIiwidXNlciIsIiRhbGVydCIsIiRzb2NrZXQiLCJvbiIsImFsZXJ0IiwidXNlcm5hbWUiLCJhdXRoZW50aWNhdGUiLCJjcmVkZW50aWFscyIsImVtaXQiLCJVc2VyIiwidXNlcnMiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsSUFBSUEsUUFBU0MsR0FBR0MsU0FFaEJDLFNBQVFDLE9BQU8sT0FDZCxVQUNBLFlBQ0EsYUFFQSxhQUNBLGtCQUNBLGNBQ0EsaUJBQ0EsZUFDQSxlQUVBLE9BRUEsZUFDQTtBQ25CRCxZQUVBRCxTQUFRQyxPQUFPLG1CQUNkLG1CQUNBO0FDSkQsWUFFQUQsU0FBUUMsT0FBTyxrQkFDZDtBQ0hELFlBRUFELFNBQVFDLE9BQU87QUNGZixZQUVBRCxTQUFRQyxPQUFPLGNBQ2QsVUFFQSxjQUNBLGdCQUdBQyxRQUFRLGlCQUFrQixvQkFBcUIsU0FBVUMsRUFBZ0JDLEdBQ3pFRCxFQUVFRSxLQUFLLEtBQ0xDLFlBQWEsbUJBR2JE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QUFRLE1BQU9DLFNBQVMsR0FDL0VJLFNBQVlQLElBQUssaUJBQWtCUixRQUFTUyxHQUFJLE9BQVFDLE9BQVEsU0FBVUMsU0FBUztBQ1ZyRixZQUVBM0MsU0FBUUMsT0FBTyx3QkFDZCxVQUVBLGlCQUdBTSxXQUFXLGtCQUFtQixTQUFVLGVBQWdCLE9BQVEsU0FBVVcsRUFBUThCLEVBQWNnQixHQUNyRjlDLEVBQU9xQyxLQUFPUyxFQUFLekIsS0FBTUUsR0FBSU8sRUFBYVA7QUNUdEQsWUFFQXpDLFNBQVFDLE9BQU8sc0JBQ2QsaUJBR0FNLFdBQVcsZ0JBQWlCLFNBQVUsT0FBUSxTQUFVVyxFQUFROEMsR0FDcEQ5QyxFQUFPK0MsTUFBUUQsRUFBS3BCO0FDUGpDLFlBRUE1QyxTQUFRQyxPQUFPLG9CQUNkLGlCQUNBLG9CQUVBLHFCQUNBO0FDUEQsWUFFQUQsU0FBUUMsT0FBTyxlQUNkLHFCQUdBQyxRQUFRLGlCQUFrQixTQUFVQyxHQUNwQ0EsRUFDRUUsS0FBSyxZQUNMQyxZQUFhLHlCQUNiQyxXQUFZO0FDVmYsWUFFQVAsU0FBUUMsT0FBTyxpQkFDZCxhQUVBIiwiZmlsZSI6ImJhc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc29ja2V0ID0gaW8uY29ubmVjdCgpO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJywgW1xuXHQnbmdSb3V0ZScsXG5cdCduZ0FuaW1hdGUnLFxuXHQnbmdTYW5pdGl6ZScsXG5cblx0J0FwcC9Sb3V0ZXMnLFxuXHQnQXBwL0NvbnRyb2xsZXJzJyxcblx0J0FwcC9GaWx0ZXJzJyxcblx0J0FwcC9EaXJlY3RpdmVzJyxcblx0J0FwcC9TZXJ2aWNlcycsXG5cdCdBcHAvUGFydGlhbHMnLFxuXG5cdCdBdXRoJyxcblxuXHQndWkuYm9vdHN0cmFwJyxcblx0J21nY3JlYS5uZ1N0cmFwJ1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXBwL0NvbnRyb2xsZXJzJywgW1xuXHQnVXNlci9Db250cm9sbGVycycsXG5cdCdQb3N0L0NvbnRyb2xsZXJzJ1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXBwL0RpcmVjdGl2ZXMnLCBbXG5cdCdBdXRoL0RpcmVjdGl2ZXMnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAvRmlsdGVycycsIFtdKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAvUm91dGVzJywgW1xuXHQnbmdSb3V0ZScsXG5cblx0J1VzZXIvUm91dGVzJyxcblx0J1Bvc3QvUm91dGVzJ1xuXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQkcm91dGVQcm92aWRlclxuXG5cdFx0LndoZW4oJy8nLCB7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2luZGV4LnRwbC5odG1sJ1xuXHRcdH0pXG5cblx0XHQud2hlbignL2Fib3V0LXVzJywge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICdhYm91dC11cy50cGwuaHRtbCdcblx0XHR9KVxuXG5cdFx0LndoZW4oJy9hdXRoZW50aWNhdGlvbicsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXV0aGVudGljYXRpb24udHBsLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0F1dGhDdHJsJyxcblx0XHRcdGd1ZXN0OiB0cnVlXG5cdFx0fSlcblxuXHRcdC5vdGhlcndpc2UoeyByZWRpcmVjdFRvOiAnLycgfSk7XG5cblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0FwcC9TZXJ2aWNlcycsIFtcblx0J1VzZXIvU2VydmljZXMnXG5dKVxuXG4udmFsdWUoJ3ZlcnNpb24nLCAnMC4wLjEnKVxuXG4uZmFjdG9yeSgnJHNvY2tldCcsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpe1xuXHRyZXR1cm4gJHdpbmRvdy5pbygpO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0F1dGgvU2VydmljZScsIFtcblx0J25nQ29va2llcycsXG5cblx0J1Nlc3Npb24nXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBdXRoL0RpcmVjdGl2ZS9JZkF1dGhlbnRpY2F0ZWQnLCBbXG5cdCdTZXNzaW9uL1NlcnZpY2UnXG5dKVxuXG4uZGlyZWN0aXZlKCdpZkF1dGhlbnRpY2F0ZWQnLCBbJ1Nlc3Npb24nLCBmdW5jdGlvbihTZXNzaW9uKSB7XG5cdHJldHVybiB7XG5cdFx0bGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIpIHtcblx0XHRcdFNlc3Npb24uaXNBdXRoZW50aWNhdGVkLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRcdGlmKCFyZXMucmVzdWx0KVxuXHRcdFx0XHRcdCRlbGVtZW50LnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0F1dGgvRGlyZWN0aXZlL0lmR3Vlc3QnLCBbXG5cdCdTZXNzaW9uL1NlcnZpY2UnXG5dKVxuXG4uZGlyZWN0aXZlKCdpZkd1ZXN0JywgWydTZXNzaW9uJywgZnVuY3Rpb24oU2Vzc2lvbikge1xuXHRyZXR1cm4ge1xuXHRcdGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG5cdFx0XHRTZXNzaW9uLmlzQXV0aGVudGljYXRlZC50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0XHRpZihyZXMucmVzdWx0KVxuXHRcdFx0XHRcdCRlbGVtZW50LnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0F1dGgvRGlyZWN0aXZlcycsIFtcblx0J0F1dGgvRGlyZWN0aXZlL0lmQXV0aGVudGljYXRlZCcsXG5cdCdBdXRoL0RpcmVjdGl2ZS9JZkd1ZXN0J1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXV0aCcsIFtcblx0J25nUm91dGUnLFxuXG5cdCdTZXNzaW9uL1NlcnZpY2UnXG5dKVxuXG4ucnVuKFsnJHJvb3RTY29wZScsICckcm91dGUnLCAnJGxvY2F0aW9uJywgJ1Nlc3Npb24nLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkcm91dGUsICRsb2NhdGlvbiwgU2Vzc2lvbikge1xuXHQkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCkge1xuXHRcdHZhciBwYXJhbXMgPSBuZXh0LiQkcm91dGU7XG5cblx0XHRjb25zb2xlLmxvZygnQ2hlY2tpbmcgaWYgeW91IGNhbiBhY2Nlc3MgdGhpcyBsb2NhdGlvbi4uLicpO1xuXG5cdFx0dmFyIGlzQXV0aGVudGljYXRlZCA9IFNlc3Npb24uaXNBdXRoZW50aWNhdGVkO1xuXG5cdFx0aWYocGFyYW1zLmd1ZXN0KSB7IC8vIE9ubHkgZ3Vlc3RzIHVzZXJzIHdpbGwgY2FuIGdvIGluLlxuXHRcdFx0Y29uc29sZS5sb2coJ1RoaXMgcm91dGUgYXJlIHJlc2VydmVkIGZvciBndWVzdHMhJyk7XG5cdFx0XHRjb25zb2xlLmxvZygnQ2hlY2tpbmcgaWYgeW91IGFyZSBhIGd1ZXN0Li4uJyk7XG5cblx0XHRcdGlzQXV0aGVudGljYXRlZC50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0XHRpZihyZXMucmVzdWx0KSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1lvdSBhcmUgbm90IGEgZ3Vlc3QuJyk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1lvdSBjYW4gbm90IGFjY2VzcyB0aGlzIGFyZWEuJyk7XG5cdFx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy8nKTsgLy8gVGVtcG9yYXJ5LCB1bnRpbCAkcm91dGVDaGFuZ2VTdGFydCBjYW4gbm90IHByZXZlbnQgZGVmYXVsdCB0aGlzIGV2ZW50LlxuXHRcdFx0XHR9IGVsc2UgaWYgKCFyZXMucmVzdWx0KSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1lvdSBhcmUgYSBndWVzdCwgeW91IGNhbiBnbyBvbiEnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmIChwYXJhbXMuYXV0aGVudGljYXRlZCkgeyAvLyBPbmx5IGF1dGhlbnRpY2F0ZWQgdXNlcnMgd2lsbCBjYW4gZ28gaW4uXG5cdFx0XHRjb25zb2xlLmxvZygnVGhpcyByb3V0ZSBhcmUgcmVzZXJ2ZWQgZm9yIGF1dGhlbnRpY2F0ZWQgdXNlcnMhJyk7XG5cdFx0XHRjb25zb2xlLmxvZygnQ2hlY2tpbmcgaWYgeW91IGFyZSBhdXRoZW50aWNhdGVkLi4uJyk7XG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdFx0aWYoIXJlcy5yZXN1bHQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnWW91IGFyZSBub3QgYXV0aGVudGljYXRlZC4nKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnWW91IGNhbiBub3QgYWNjZXNzIHRoaXMgYXJlYS4nKTtcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnLycpOyAvLyBUZW1wb3JhcnksIHVudGlsICRyb3V0ZUNoYW5nZVN0YXJ0IGNhbiBub3QgcHJldmVudCBkZWZhdWx0IHRoaXMgZXZlbnQuXG5cdFx0XHRcdH0gZWxzZSBpZiAocmVzLnJlc3VsdCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdZb3UgYXJlIGF1dGhlbnRpY2F0ZWQsIHlvdSBjYW4gZ28gb24hJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1Bvc3QvU2VydmljZScsIFsnbmdSZXNvdXJjZSddKVxuXG4uZmFjdG9yeSgnUG9zdCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuXHRyZXR1cm4gJHJlc291cmNlICgnJywge30sIHtcblx0XHQnZ2V0Jzoge3VybDogJy9hcGkvcG9zdHMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2V9LFxuXHRcdCdsaXN0Jzoge3VybDogJy9hcGkvcG9zdHMnLCBwYXJhbXM6IHt9LCBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlfSxcblx0XHQnc3RvcmUnOiB7dXJsOiAnL2FwaS9wb3N0cycsIHBhcmFtczoge30sIG1ldGhvZDogJ1BPU1QnLCBpc0FycmF5OiBmYWxzZX0sXG5cdFx0J3VwZGF0ZSc6IHt1cmw6ICcvYXBpL3Bvc3RzLzppZCcsIHBhcmFtczoge2lkOiAnQGlkJ30sIG1ldGhvZDogJ1BVVCcsIGlzQXJyYXk6IGZhbHNlfSxcblx0XHQnZGVzdHJveSc6IHt1cmw6ICcvYXBpL3Bvc3RzLzppZCcsIHBhcmFtczoge2lkOiAnQGlkJ30sIG1ldGhvZDogJ0RFTEVURScsIGlzQXJyYXk6IGZhbHNlfVxuXHR9KTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdQb3N0L0N0cmwvUG9zdERldGFpbCcsIFtcblx0J25nUm91dGUnLFxuXG5cdCdQb3N0L1NlcnZpY2UnXG5dKVxuXG4uY29udHJvbGxlcignUG9zdERldGFpbEN0cmwnLCBbJyRzY29wZScsICckcm91dGVQYXJhbXMnLCAnUG9zdCcsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgUG9zdCkge1xuXHR2YXIgcG9zdCA9ICRzY29wZS5wb3N0ID0gUG9zdC5nZXQoeyBpZDogJHJvdXRlUGFyYW1zLmlkIH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1Bvc3QvQ3RybC9Qb3N0TGlzdCcsIFtcblx0J1Bvc3QvU2VydmljZSdcbl0pXG5cbi5jb250cm9sbGVyKCdQb3N0TGlzdEN0cmwnLCBbJyRzY29wZScsICdQb3N0JywgZnVuY3Rpb24gKCRzY29wZSwgUG9zdCkge1xuXHR2YXIgcG9zdHMgPSAkc2NvcGUucG9zdHMgPSBQb3N0Lmxpc3QoKTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdQb3N0L0NvbnRyb2xsZXJzJywgW1x0XG5cdCdQb3N0L0N0cmwvUG9zdExpc3QnLFxuXHQnUG9zdC9DdHJsL1Bvc3REZXRhaWwnLFxuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9Sb3V0ZXMnLCBbXG5cdCdQb3N0L0NvbnRyb2xsZXJzJ1xuXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdFx0LndoZW4oJy9wb3N0cycsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAncG9zdHMvbGlzdC50cGwuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnUG9zdExpc3RDdHJsJ1xuXHRcdH0pXG5cblx0XHQud2hlbignL3Bvc3RzLzppZCcsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAncG9zdHMvc2hvdy50cGwuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnUG9zdERldGFpbEN0cmwnXG5cdFx0fSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9TZXJ2aWNlcycsIFtcblx0J25nUmVzb3VyY2UnLFxuXG5cdCdQb3N0L1NlcnZpY2UnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdTZXNzaW9uL1NlcnZpY2UnLCBbXG5cdCduZ0Nvb2tpZXMnXG5dKVxuXG4uZmFjdG9yeSgnU2Vzc2lvbicsIFsnJGh0dHAnLCAnJGNvb2tpZVN0b3JlJywgZnVuY3Rpb24gKCRodHRwLCAkY29va2llU3RvcmUpIHtcblx0dmFyIHJlcyA9ICRodHRwLmdldCgnL2F1dGgvY2hlY2snKTtcblxuXHRyZXR1cm4ge1xuXHRcdGlzQXV0aGVudGljYXRlZDogcmVzLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRpZihyZXMuZGF0YS5yZXN1bHQpXG5cdFx0XHRcdHJldHVybiB7cmVzdWx0OiB0cnVlfTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIHtyZXN1bHQ6IGZhbHNlfTtcblx0XHR9KSxcblxuXHRcdGdldFVzZXI6IHJlcy50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0aWYocmVzLmRhdGEucmVzdWx0KVxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEudXNlcjtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIHtyZXN1bHQ6IGZhbHNlfTtcblx0XHR9KVxuXHR9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1Nlc3Npb24nLCBbXG5cdCdTZXNzaW9uL1NlcnZpY2UnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdVc2VyL0N0cmwvQXV0aCcsIFtcblx0J0FwcC9TZXJ2aWNlcydcbl0pXG5cbi5jb250cm9sbGVyKCdBdXRoQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRhbGVydCcsICckc29ja2V0JywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkYWxlcnQsICRzb2NrZXQsICRsb2NhdGlvbikge1xuXHQkc29ja2V0Lm9uKCd1c2VyIGF1dGhlbnRpY2F0ZWQnLCBmdW5jdGlvbih1c2VyKSB7XG5cdFx0YWxlcnQoJ0NvbmdyYXR1bGF0aW9ucywgJyt1c2VyLnVzZXJuYW1lKycsIHlvdVxcJ3JlIGxvZ2dlZCEnKTtcblx0fSk7XG5cblx0JHNvY2tldC5vbigndXNlciB1bmF1dGhvcml6ZWQnLCBmdW5jdGlvbigpIHtcblx0XHRhbGVydCgnU29ycnksIHlvdSBjYW4gbm90IGFjY2VzcyB0aGlzIGFyZWEhJyk7XG5cdH0pO1xuXG5cdCRzb2NrZXQub24oJ3VzZXIgYXV0aGVudGljYXRpb24gZXJyb3InLCBmdW5jdGlvbiAoKSB7XG5cdFx0YWxlcnQoJ09jb3JyZXUgdW0gZXJybywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUhJyk7XG5cdH0pO1xuXG5cdCRzY29wZS5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcblx0XHQkaHR0cC5wb3N0KCcvYXV0aC9sb2NhbCcsIGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0dmFyIHVzZXIgPSByZXMuZGF0YTtcblxuXHRcdFx0aWYoIXJlcy5kYXRhLnJlc3VsdClcblx0XHRcdFx0JHNvY2tldC5lbWl0KCd1c2VyIHVuYXV0aG9yaXplZCcsIHt9KTtcblx0XHRcdFxuXHRcdFx0aWYgKHVzZXIudXNlcm5hbWUpIHtcblx0XHRcdFx0JHNvY2tldC5lbWl0KCd1c2VyIGF1dGhlbnRpY2F0ZWQnLCB1c2VyKTtcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy8nKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0JHNvY2tldC5lbWl0KCd1c2VyIGF1dGhlbnRpY2F0aW9uIGVycm9yJywge30pO1xuXHRcdH0pO1xuXHR9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvQ3RybC9Qcm9maWxlJywgW1xuXHQnU2Vzc2lvbi9TZXJ2aWNlJ1xuXSlcblxuLmNvbnRyb2xsZXIoJ1Byb2ZpbGVDdHJsJywgWyckc2NvcGUnLCAnU2Vzc2lvbicsIGZ1bmN0aW9uICgkc2NvcGUsIFNlc3Npb24pIHtcblx0U2Vzc2lvbi5nZXRVc2VyLnRoZW4oZnVuY3Rpb24odXNlcikge1xuXHRcdCRzY29wZS51c2VyID0gdXNlcjtcblx0fSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVXNlci9TZXJ2aWNlJywgWyduZ1Jlc291cmNlJ10pXG5cbi5mYWN0b3J5KCdVc2VyJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG5cdHJldHVybiAkcmVzb3VyY2UgKCcnLCB7fSwge1xuXHRcdCdnZXQnOiB7dXJsOiAnL2FwaS91c2Vycy86aWQnLCBwYXJhbXM6IHtpZDogJ0BpZCd9LCBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZX0sXG5cdFx0J2xpc3QnOiB7dXJsOiAnL2FwaS91c2VycycsIHBhcmFtczoge30sIG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWV9LFxuXHRcdCdzdG9yZSc6IHt1cmw6ICcvYXBpL3VzZXJzJywgcGFyYW1zOiB7fSwgbWV0aG9kOiAnUE9TVCcsIGlzQXJyYXk6IGZhbHNlfSxcblx0XHQndXBkYXRlJzoge3VybDogJy9hcGkvdXNlcnMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnUFVUJywgaXNBcnJheTogZmFsc2V9LFxuXHRcdCdkZXN0cm95Jzoge3VybDogJy9hcGkvdXNlcnMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnREVMRVRFJywgaXNBcnJheTogZmFsc2V9XG5cdH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvQ3RybC9Vc2VyRGV0YWlsJywgW1xuXHQnbmdSb3V0ZScsXG5cblx0J1VzZXIvU2VydmljZSdcbl0pXG5cbi5jb250cm9sbGVyKCdVc2VyRGV0YWlsQ3RybCcsIFsnJHNjb3BlJywgJyRyb3V0ZVBhcmFtcycsICdVc2VyJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvdXRlUGFyYW1zLCBVc2VyKSB7XG5cdHZhciB1c2VyID0gJHNjb3BlLnVzZXIgPSBVc2VyLmdldCh7IGlkOiAkcm91dGVQYXJhbXMuaWQgfSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVXNlci9DdHJsL1VzZXJMaXN0JywgW1xuXHQnVXNlci9TZXJ2aWNlJ1xuXSlcblxuLmNvbnRyb2xsZXIoJ1VzZXJMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ1VzZXInLCBmdW5jdGlvbiAoJHNjb3BlLCBVc2VyKSB7XG5cdHZhciB1c2VycyA9ICRzY29wZS51c2VycyA9IFVzZXIubGlzdCgpO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvQ29udHJvbGxlcnMnLCBbXG5cdCdVc2VyL0N0cmwvQXV0aCcsXG5cdCdVc2VyL0N0cmwvUHJvZmlsZScsXHRcblx0XG5cdCdVc2VyL0N0cmwvVXNlckxpc3QnLFxuXHQnVXNlci9DdHJsL1VzZXJEZXRhaWwnLFxuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVXNlci9Sb3V0ZXMnLCBbXG5cdCdVc2VyL0NvbnRyb2xsZXJzJ1xuXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdFx0LndoZW4oJy9wcm9maWxlJywge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICd1c2Vycy9wcm9maWxlLnRwbC5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdQcm9maWxlQ3RybCdcblx0XHR9KTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdVc2VyL1NlcnZpY2VzJywgW1xuXHQnbmdSZXNvdXJjZScsXG5cblx0J1VzZXIvU2VydmljZSdcbl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==