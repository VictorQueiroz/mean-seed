"use strict";var socket=io.connect();angular.module("App",["ngRoute","ngAnimate","ngSanitize","App/Routes","App/Controllers","App/Filters","App/Directives","App/Services","App/Partials","Auth","ui.bootstrap","mgcrea.ngStrap"]);
"use strict";angular.module("App/Controllers",["User/Controllers","Post/Controllers"]);
"use strict";angular.module("App/Directives",["Auth/Directives"]);
"use strict";angular.module("App/Filters",[]);
"use strict";angular.module("App/Routes",["ngRoute","User/Routes","Post/Routes"]).config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{templateUrl:"index.tpl.html"}).when("/about-us",{templateUrl:"about-us.tpl.html"}).when("/authentication",{templateUrl:"authentication.tpl.html",controller:"AuthCtrl",guest:!0}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]);
"use strict";angular.module("App/Services",["User/Services"]).value("version","0.0.1").factory("$socket",["$window",function(e){return e.io()}]);
"use strict";angular.module("Auth/Service",["ngCookies","Session"]);
"use strict";angular.module("Auth/Directive/IfAuthenticated",["Session/Service"]).directive("ifAuthenticated",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result||i.remove()})}}}]);
"use strict";angular.module("Auth/Directive/IfGuest",["Session/Service"]).directive("ifGuest",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result&&i.remove()})}}}]);
"use strict";angular.module("Auth/Directives",["Auth/Directive/IfAuthenticated","Auth/Directive/IfGuest"]);
"use strict";angular.module("Auth",["ngRoute","Session/Service"]).run(["$rootScope","$route","$location","Session",function(o,e,t,n){o.$on("$routeChangeStart",function(o,e){var a=e.$$route;console.log("Checking if you can access this location...");var s=n.isAuthenticated;a.guest?(console.log("This route are reserved for guests!"),console.log("Checking if you are a guest..."),s.then(function(o){o.result?(console.log("You are not a guest."),console.log("You can not access this area."),t.path("/")):o.result||console.log("You are a guest, you can go on!")})):a.authenticated&&(console.log("This route are reserved for authenticated users!"),console.log("Checking if you are authenticated..."),s.then(function(o){o.result?o.result&&console.log("You are authenticated, you can go on!"):(console.log("You are not authenticated."),console.log("You can not access this area."),t.path("/"))}))})}]);
"use strict";angular.module("Post/Service",["ngResource"]).factory("Post",["$resource",function(r){return r("",{},{get:{url:"/api/posts/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/posts",params:{},method:"GET",isArray:!0},store:{url:"/api/posts",params:{},method:"POST",isArray:!1},update:{url:"/api/posts/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/posts/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("Post/Ctrl/PostCreate",["ngRoute","Post/Service"]).controller("PostCreateCtrl",["$scope","$location","Post",function(t,o,e){t.storePost=function(t){var t=new e(t);t.$store().then(function(t){t&&o.path("/posts/"+(t._id?t._id:null))})}}]);
"use strict";angular.module("Post/Ctrl/PostDetail",["ngRoute","Post/Service"]).controller("PostDetailCtrl",["$scope","$routeParams","Post",function(t,o,e){t.post=e.get({id:o.id})}]);
"use strict";angular.module("Post/Ctrl/PostList",["Post/Service"]).controller("PostListCtrl",["$scope","Post",function(t,s){t.posts=s.list()}]);
"use strict";angular.module("Post/Controllers",["Post/Ctrl/PostList","Post/Ctrl/PostDetail","Post/Ctrl/PostCreate"]);
"use strict";angular.module("Post/Routes",["Post/Controllers"]).config(["$routeProvider",function(t){t.when("/posts",{templateUrl:"posts/list.tpl.html",controller:"PostListCtrl"}).when("/posts/create",{templateUrl:"posts/create.tpl.html",controller:"PostCreateCtrl"}).when("/posts/:id",{templateUrl:"posts/show.tpl.html",controller:"PostDetailCtrl"})}]);
"use strict";angular.module("Post/Services",["ngResource","Post/Service"]);
"use strict";angular.module("Session/Service",["ngCookies"]).factory("Session",["$http","$cookieStore",function(t){var e=t.get("/auth/check");return{isAuthenticated:e.then(function(t){return t.data.result?{result:!0}:{result:!1}}),getUser:e.then(function(t){return t.data.result?t.data.user:{result:!1}})}}]);
"use strict";angular.module("Session",["Session/Service"]);
"use strict";angular.module("User/Ctrl/Auth",["App/Services"]).controller("AuthCtrl",["$scope","$http","$alert","$socket","$location",function(t,e,r,a,n){a.on("user authenticated",function(t){alert("Congratulations, "+t.username+", you're logged!")}),a.on("user unauthorized",function(){alert("Sorry, you can not access this area!")}),a.on("user authentication error",function(){alert("Ocorreu um erro, tente novamente mais tarde!")}),t.authenticate=function(t){e.post("/auth/local",t).then(function(t){var e=t.data;t.data.result||a.emit("user unauthorized",{}),e.username?(a.emit("user authenticated",e),n.path("/")):a.emit("user authentication error",{})})}}]);
"use strict";angular.module("User/Ctrl/Profile",["Session/Service"]).controller("ProfileCtrl",["$scope","Session",function(e,r){r.getUser.then(function(r){e.user=r})}]);
"use strict";angular.module("User/Service",["ngResource"]).factory("User",["$resource",function(r){return r("",{},{get:{url:"/api/users/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/users",params:{},method:"GET",isArray:!0},store:{url:"/api/users",params:{},method:"POST",isArray:!1},update:{url:"/api/users/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/users/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("User/Ctrl/UserDetail",["ngRoute","User/Service"]).controller("UserDetailCtrl",["$scope","$routeParams","User",function(e,r,t){e.user=t.get({id:r.id})}]);
"use strict";angular.module("User/Ctrl/UserList",["User/Service"]).controller("UserListCtrl",["$scope","User",function(r,s){r.users=s.list()}]);
"use strict";angular.module("User/Controllers",["User/Ctrl/Auth","User/Ctrl/Profile","User/Ctrl/UserList","User/Ctrl/UserDetail"]);
"use strict";angular.module("User/Routes",["User/Controllers"]).config(["$routeProvider",function(r){r.when("/profile",{templateUrl:"users/profile.tpl.html",controller:"ProfileCtrl"})}]);
"use strict";angular.module("User/Services",["ngResource","User/Service"]);
"use strict";angular.module("Auth/Service",["ngCookies","Session"]);
"use strict";angular.module("Auth/Directive/IfAuthenticated",["Session/Service"]).directive("ifAuthenticated",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result||i.remove()})}}}]);
"use strict";angular.module("Auth/Directive/IfGuest",["Session/Service"]).directive("ifGuest",["Session",function(e){return{link:function(t,i){e.isAuthenticated.then(function(e){e.result&&i.remove()})}}}]);
"use strict";angular.module("Auth/Directives",["Auth/Directive/IfAuthenticated","Auth/Directive/IfGuest"]);
"use strict";angular.module("Auth",["ngRoute","Session/Service"]).run(["$rootScope","$route","$location","Session",function(o,e,t,n){o.$on("$routeChangeStart",function(o,e){var a=e.$$route;console.log("Checking if you can access this location...");var s=n.isAuthenticated;a.guest?(console.log("This route are reserved for guests!"),console.log("Checking if you are a guest..."),s.then(function(o){o.result?(console.log("You are not a guest."),console.log("You can not access this area."),t.path("/")):o.result||console.log("You are a guest, you can go on!")})):a.authenticated&&(console.log("This route are reserved for authenticated users!"),console.log("Checking if you are authenticated..."),s.then(function(o){o.result?o.result&&console.log("You are authenticated, you can go on!"):(console.log("You are not authenticated."),console.log("You can not access this area."),t.path("/"))}))})}]);
"use strict";angular.module("Post/Service",["ngResource"]).factory("Post",["$resource",function(r){return r("",{},{get:{url:"/api/posts/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/posts",params:{},method:"GET",isArray:!0},store:{url:"/api/posts",params:{},method:"POST",isArray:!1},update:{url:"/api/posts/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/posts/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("Post/Ctrl/PostCreate",["ngRoute","Post/Service"]).controller("PostCreateCtrl",["$scope","$location","Post",function(t,o,e){t.storePost=function(t){var t=new e(t);t.$store().then(function(t){t&&o.path("/posts/"+(t._id?t._id:null))})}}]);
"use strict";angular.module("Post/Ctrl/PostDetail",["ngRoute","Post/Service"]).controller("PostDetailCtrl",["$scope","$routeParams","Post",function(t,o,e){t.post=e.get({id:o.id})}]);
"use strict";angular.module("Post/Ctrl/PostList",["Post/Service"]).controller("PostListCtrl",["$scope","Post",function(t,s){t.posts=s.list()}]);
"use strict";angular.module("Post/Controllers",["Post/Ctrl/PostList","Post/Ctrl/PostDetail","Post/Ctrl/PostCreate"]);
"use strict";angular.module("Post/Routes",["Post/Controllers"]).config(["$routeProvider",function(t){t.when("/posts",{templateUrl:"posts/list.tpl.html",controller:"PostListCtrl"}).when("/posts/create",{templateUrl:"posts/create.tpl.html",controller:"PostCreateCtrl"}).when("/posts/:id",{templateUrl:"posts/show.tpl.html",controller:"PostDetailCtrl"})}]);
"use strict";angular.module("Post/Services",["ngResource","Post/Service"]);
"use strict";angular.module("Session/Service",["ngCookies"]).factory("Session",["$http","$cookieStore",function(t){var e=t.get("/auth/check");return{isAuthenticated:e.then(function(t){return t.data.result?{result:!0}:{result:!1}}),getUser:e.then(function(t){return t.data.result?t.data.user:{result:!1}})}}]);
"use strict";angular.module("Session",["Session/Service"]);
"use strict";angular.module("User/Ctrl/Auth",["App/Services"]).controller("AuthCtrl",["$scope","$http","$alert","$socket","$location",function(t,e,r,a,n){a.on("user authenticated",function(t){alert("Congratulations, "+t.username+", you're logged!")}),a.on("user unauthorized",function(){alert("Sorry, you can not access this area!")}),a.on("user authentication error",function(){alert("Ocorreu um erro, tente novamente mais tarde!")}),t.authenticate=function(t){e.post("/auth/local",t).then(function(t){var e=t.data;t.data.result||a.emit("user unauthorized",{}),e.username?(a.emit("user authenticated",e),n.path("/")):a.emit("user authentication error",{})})}}]);
"use strict";angular.module("User/Ctrl/Profile",["Session/Service"]).controller("ProfileCtrl",["$scope","Session",function(e,r){r.getUser.then(function(r){e.user=r})}]);
"use strict";angular.module("User/Service",["ngResource"]).factory("User",["$resource",function(r){return r("",{},{get:{url:"/api/users/:id",params:{id:"@id"},method:"GET",isArray:!1},list:{url:"/api/users",params:{},method:"GET",isArray:!0},store:{url:"/api/users",params:{},method:"POST",isArray:!1},update:{url:"/api/users/:id",params:{id:"@id"},method:"PUT",isArray:!1},destroy:{url:"/api/users/:id",params:{id:"@id"},method:"DELETE",isArray:!1}})}]);
"use strict";angular.module("User/Ctrl/UserDetail",["ngRoute","User/Service"]).controller("UserDetailCtrl",["$scope","$routeParams","User",function(e,r,t){e.user=t.get({id:r.id})}]);
"use strict";angular.module("User/Ctrl/UserList",["User/Service"]).controller("UserListCtrl",["$scope","User",function(r,s){r.users=s.list()}]);
"use strict";angular.module("User/Controllers",["User/Ctrl/Auth","User/Ctrl/Profile","User/Ctrl/UserList","User/Ctrl/UserDetail"]);
"use strict";angular.module("User/Routes",["User/Controllers"]).config(["$routeProvider",function(r){r.when("/profile",{templateUrl:"users/profile.tpl.html",controller:"ProfileCtrl"})}]);
"use strict";angular.module("User/Services",["ngResource","User/Service"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzLmpzIiwiZGlyZWN0aXZlcy5qcyIsImZpbHRlcnMuanMiLCJyb3V0ZXMuanMiLCJzZXJ2aWNlcy5qcyIsImNvbXBvbmVudHMvYXV0aC9BdXRoLVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2F1dGgvSWZBdXRoZW50aWNhdGVkLURpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvYXV0aC9JZkd1ZXN0LURpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvYXV0aC9kaXJlY3RpdmVzLmpzIiwiY29tcG9uZW50cy9hdXRoL21vZHVsZS5qcyIsImNvbXBvbmVudHMvcG9zdC9Qb3N0LVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Bvc3QvUG9zdENyZWF0ZS1DdHJsLmpzIiwiY29tcG9uZW50cy9wb3N0L1Bvc3REZXRhaWwtQ3RybC5qcyIsImNvbXBvbmVudHMvcG9zdC9Qb3N0TGlzdC1DdHJsLmpzIiwiY29tcG9uZW50cy9wb3N0L2NvbnRyb2xsZXJzLmpzIiwiY29tcG9uZW50cy9wb3N0L3JvdXRlcy5qcyIsImNvbXBvbmVudHMvcG9zdC9zZXJ2aWNlcy5qcyIsImNvbXBvbmVudHMvc2Vzc2lvbi9TZXNzaW9uLVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Nlc3Npb24vbW9kdWxlLmpzIiwiY29tcG9uZW50cy91c2VyL0F1dGgtQ3RybC5qcyIsImNvbXBvbmVudHMvdXNlci9Qcm9maWxlLUN0cmwuanMiLCJjb21wb25lbnRzL3VzZXIvVXNlci1TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy91c2VyL1VzZXJEZXRhaWwtQ3RybC5qcyIsImNvbXBvbmVudHMvdXNlci9Vc2VyTGlzdC1DdHJsLmpzIiwiY29tcG9uZW50cy91c2VyL2NvbnRyb2xsZXJzLmpzIiwiY29tcG9uZW50cy91c2VyL3JvdXRlcy5qcyIsImNvbXBvbmVudHMvdXNlci9zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJndWVzdCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJodG1sNU1vZGUiLCJ2YWx1ZSIsImZhY3RvcnkiLCIkd2luZG93IiwiZGlyZWN0aXZlIiwiU2Vzc2lvbiIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsImlzQXV0aGVudGljYXRlZCIsInRoZW4iLCJyZXMiLCJyZXN1bHQiLCJyZW1vdmUiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHJvdXRlIiwiJGxvY2F0aW9uIiwiJG9uIiwiZXZlbnQiLCJuZXh0IiwicGFyYW1zIiwiJCRyb3V0ZSIsImNvbnNvbGUiLCJsb2ciLCJwYXRoIiwiYXV0aGVudGljYXRlZCIsIiRyZXNvdXJjZSIsImdldCIsInVybCIsImlkIiwibWV0aG9kIiwiaXNBcnJheSIsImxpc3QiLCJzdG9yZSIsInVwZGF0ZSIsImRlc3Ryb3kiLCJQb3N0Iiwic3RvcmVQb3N0IiwicG9zdCIsIiRzdG9yZSIsIl9pZCIsIiRyb3V0ZVBhcmFtcyIsInBvc3RzIiwiJGh0dHAiLCJkYXRhIiwiZ2V0VXNlciIsInVzZXIiLCIkYWxlcnQiLCIkc29ja2V0Iiwib24iLCJhbGVydCIsInVzZXJuYW1lIiwiYXV0aGVudGljYXRlIiwiY3JlZGVudGlhbHMiLCJlbWl0IiwiVXNlciIsInVzZXJzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFFBQVNDLEdBQUdDLFNBRWhCQyxTQUFRQyxPQUFPLE9BQ2QsVUFDQSxZQUNBLGFBRUEsYUFDQSxrQkFDQSxjQUNBLGlCQUNBLGVBQ0EsZUFFQSxPQUVBLGVBQ0E7QUNuQkQsWUFFQUQsU0FBUUMsT0FBTyxtQkFDZCxtQkFDQTtBQ0pELFlBRUFELFNBQVFDLE9BQU8sa0JBQ2Q7QUNIRCxZQUVBRCxTQUFRQyxPQUFPO0FDRmYsWUFFQUQsU0FBUUMsT0FBTyxjQUNkLFVBRUEsY0FDQSxnQkFHQUMsUUFB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QU9rRCxNQUFRRCxFQUFLdkI7QUNQakMsWUFFQTVDLFNBQVFDLE9BQU8sb0JBQ2QsaUJBQ0Esb0JBRUEscUJBQ0E7QUNQRCxZQUVBRCxTQUFRQyxPQUFPLGVBQ2QscUJBR0FDLFFBQVEsaUJBQWtCLFNBQVVDLEdBQ3BDQSxFQUNFRSxLQUFLLFlBQ0xDLFlBQWEseUJBQ2JDLFdBQVk7QUNWZixZQUVBUCxTQUFRQyxPQUFPLGlCQUNkLGFBRUEiLCJmaWxlIjoiYmFzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBzb2NrZXQgPSBpby5jb25uZWN0KCk7XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnLCBbXG5cdCduZ1JvdXRlJyxcblx0J25nQW5pbWF0ZScsXG5cdCduZ1Nhbml0aXplJyxcblxuXHQnQXBwL1JvdXRlcycsXG5cdCdBcHAvQ29udHJvbGxlcnMnLFxuXHQnQXBwL0ZpbHRlcnMnLFxuXHQnQXBwL0RpcmVjdGl2ZXMnLFxuXHQnQXBwL1NlcnZpY2VzJyxcblx0J0FwcC9QYXJ0aWFscycsXG5cblx0J0F1dGgnLFxuXG5cdCd1aS5ib290c3RyYXAnLFxuXHQnbWdjcmVhLm5nU3RyYXAnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAvQ29udHJvbGxlcnMnLCBbXG5cdCdVc2VyL0NvbnRyb2xsZXJzJyxcblx0J1Bvc3QvQ29udHJvbGxlcnMnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAvRGlyZWN0aXZlcycsIFtcblx0J0F1dGgvRGlyZWN0aXZlcydcbl0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0FwcC9GaWx0ZXJzJywgW10pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0FwcC9Sb3V0ZXMnLCBbXG5cdCduZ1JvdXRlJyxcblxuXHQnVXNlci9Sb3V0ZXMnLFxuXHQnUG9zdC9Sb3V0ZXMnXG5dKVxuXG4uY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cblx0XHQud2hlbignLycsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnaW5kZXgudHBsLmh0bWwnXG5cdFx0fSlcblxuXHRcdC53aGVuKCcvYWJvdXQtdXMnLCB7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2Fib3V0LXVzLnRwbC5odG1sJ1xuXHRcdH0pXG5cblx0XHQud2hlbignL2F1dGhlbnRpY2F0aW9uJywge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICdhdXRoZW50aWNhdGlvbi50cGwuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxuXHRcdFx0Z3Vlc3Q6IHRydWVcblx0XHR9KVxuXG5cdFx0Lm90aGVyd2lzZSh7IHJlZGlyZWN0VG86ICcvJyB9KTtcblxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXBwL1NlcnZpY2VzJywgW1xuXHQnVXNlci9TZXJ2aWNlcydcbl0pXG5cbi52YWx1ZSgndmVyc2lvbicsICcwLjAuMScpXG5cbi5mYWN0b3J5KCckc29ja2V0JywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdyl7XG5cdHJldHVybiAkd2luZG93LmlvKCk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXV0aC9TZXJ2aWNlJywgW1xuXHQnbmdDb29raWVzJyxcblxuXHQnU2Vzc2lvbidcbl0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ0F1dGgvRGlyZWN0aXZlL0lmQXV0aGVudGljYXRlZCcsIFtcblx0J1Nlc3Npb24vU2VydmljZSdcbl0pXG5cbi5kaXJlY3RpdmUoJ2lmQXV0aGVudGljYXRlZCcsIFsnU2Vzc2lvbicsIGZ1bmN0aW9uKFNlc3Npb24pIHtcblx0cmV0dXJuIHtcblx0XHRsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cikge1xuXHRcdFx0U2Vzc2lvbi5pc0F1dGhlbnRpY2F0ZWQudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdFx0aWYoIXJlcy5yZXN1bHQpXG5cdFx0XHRcdFx0JGVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXV0aC9EaXJlY3RpdmUvSWZHdWVzdCcsIFtcblx0J1Nlc3Npb24vU2VydmljZSdcbl0pXG5cbi5kaXJlY3RpdmUoJ2lmR3Vlc3QnLCBbJ1Nlc3Npb24nLCBmdW5jdGlvbihTZXNzaW9uKSB7XG5cdHJldHVybiB7XG5cdFx0bGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIpIHtcblx0XHRcdFNlc3Npb24uaXNBdXRoZW50aWNhdGVkLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRcdGlmKHJlcy5yZXN1bHQpXG5cdFx0XHRcdFx0JGVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnQXV0aC9EaXJlY3RpdmVzJywgW1xuXHQnQXV0aC9EaXJlY3RpdmUvSWZBdXRoZW50aWNhdGVkJyxcblx0J0F1dGgvRGlyZWN0aXZlL0lmR3Vlc3QnXG5dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdBdXRoJywgW1xuXHQnbmdSb3V0ZScsXG5cblx0J1Nlc3Npb24vU2VydmljZSdcbl0pXG5cbi5ydW4oWyckcm9vdFNjb3BlJywgJyRyb3V0ZScsICckbG9jYXRpb24nLCAnU2Vzc2lvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRyb3V0ZSwgJGxvY2F0aW9uLCBTZXNzaW9uKSB7XG5cdCRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCBuZXh0LCBjdXJyZW50KSB7XG5cdFx0dmFyIHBhcmFtcyA9IG5leHQuJCRyb3V0ZTtcblxuXHRcdGNvbnNvbGUubG9nKCdDaGVja2luZyBpZiB5b3UgY2FuIGFjY2VzcyB0aGlzIGxvY2F0aW9uLi4uJyk7XG5cblx0XHR2YXIgaXNBdXRoZW50aWNhdGVkID0gU2Vzc2lvbi5pc0F1dGhlbnRpY2F0ZWQ7XG5cblx0XHRpZihwYXJhbXMuZ3Vlc3QpIHsgLy8gT25seSBndWVzdHMgdXNlcnMgd2lsbCBjYW4gZ28gaW4uXG5cdFx0XHRjb25zb2xlLmxvZygnVGhpcyByb3V0ZSBhcmUgcmVzZXJ2ZWQgZm9yIGd1ZXN0cyEnKTtcblx0XHRcdGNvbnNvbGUubG9nKCdDaGVja2luZyBpZiB5b3UgYXJlIGEgZ3Vlc3QuLi4nKTtcblxuXHRcdFx0aXNBdXRoZW50aWNhdGVkLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRcdGlmKHJlcy5yZXN1bHQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnWW91IGFyZSBub3QgYSBndWVzdC4nKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnWW91IGNhbiBub3QgYWNjZXNzIHRoaXMgYXJlYS4nKTtcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnLycpOyAvLyBUZW1wb3JhcnksIHVudGlsICRyb3V0ZUNoYW5nZVN0YXJ0IGNhbiBub3QgcHJldmVudCBkZWZhdWx0IHRoaXMgZXZlbnQuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIXJlcy5yZXN1bHQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnWW91IGFyZSBhIGd1ZXN0LCB5b3UgY2FuIGdvIG9uIScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHBhcmFtcy5hdXRoZW50aWNhdGVkKSB7IC8vIE9ubHkgYXV0aGVudGljYXRlZCB1c2VycyB3aWxsIGNhbiBnbyBpbi5cblx0XHRcdGNvbnNvbGUubG9nKCdUaGlzIHJvdXRlIGFyZSByZXNlcnZlZCBmb3IgYXV0aGVudGljYXRlZCB1c2VycyEnKTtcblx0XHRcdGNvbnNvbGUubG9nKCdDaGVja2luZyBpZiB5b3UgYXJlIGF1dGhlbnRpY2F0ZWQuLi4nKTtcblx0XHRcdGlzQXV0aGVudGljYXRlZC50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0XHRpZighcmVzLnJlc3VsdCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdZb3UgYXJlIG5vdCBhdXRoZW50aWNhdGVkLicpO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdZb3UgY2FuIG5vdCBhY2Nlc3MgdGhpcyBhcmVhLicpO1xuXHRcdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvJyk7IC8vIFRlbXBvcmFyeSwgdW50aWwgJHJvdXRlQ2hhbmdlU3RhcnQgY2FuIG5vdCBwcmV2ZW50IGRlZmF1bHQgdGhpcyBldmVudC5cblx0XHRcdFx0fSBlbHNlIGlmIChyZXMucmVzdWx0KSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1lvdSBhcmUgYXV0aGVudGljYXRlZCwgeW91IGNhbiBnbyBvbiEnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9TZXJ2aWNlJywgWyduZ1Jlc291cmNlJ10pXG5cbi5mYWN0b3J5KCdQb3N0JywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG5cdHJldHVybiAkcmVzb3VyY2UgKCcnLCB7fSwge1xuXHRcdCdnZXQnOiB7dXJsOiAnL2FwaS9wb3N0cy86aWQnLCBwYXJhbXM6IHtpZDogJ0BpZCd9LCBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZX0sXG5cdFx0J2xpc3QnOiB7dXJsOiAnL2FwaS9wb3N0cycsIHBhcmFtczoge30sIG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWV9LFxuXHRcdCdzdG9yZSc6IHt1cmw6ICcvYXBpL3Bvc3RzJywgcGFyYW1zOiB7fSwgbWV0aG9kOiAnUE9TVCcsIGlzQXJyYXk6IGZhbHNlfSxcblx0XHQndXBkYXRlJzoge3VybDogJy9hcGkvcG9zdHMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnUFVUJywgaXNBcnJheTogZmFsc2V9LFxuXHRcdCdkZXN0cm95Jzoge3VybDogJy9hcGkvcG9zdHMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnREVMRVRFJywgaXNBcnJheTogZmFsc2V9XG5cdH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1Bvc3QvQ3RybC9Qb3N0Q3JlYXRlJywgW1xuXHQnbmdSb3V0ZScsXG5cblx0J1Bvc3QvU2VydmljZSdcbl0pXG5cbi5jb250cm9sbGVyKCdQb3N0Q3JlYXRlQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQb3N0JywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBQb3N0KSB7XG5cdCRzY29wZS5zdG9yZVBvc3QgPSBmdW5jdGlvbiAocG9zdCkge1xuXHRcdHZhciBwb3N0ID0gbmV3IFBvc3QocG9zdCk7XG5cblx0XHRwb3N0XG5cdFx0XHQuJHN0b3JlKClcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHBvc3QpIHtcblx0XHRcdFx0aWYocG9zdClcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL3Bvc3RzLycgKyAocG9zdC5faWQgPyBwb3N0Ll9pZCA6IG51bGwpKVxuXHRcdFx0fSk7XG5cdH07XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9DdHJsL1Bvc3REZXRhaWwnLCBbXG5cdCduZ1JvdXRlJyxcblxuXHQnUG9zdC9TZXJ2aWNlJ1xuXSlcblxuLmNvbnRyb2xsZXIoJ1Bvc3REZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnJHJvdXRlUGFyYW1zJywgJ1Bvc3QnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm91dGVQYXJhbXMsIFBvc3QpIHtcblx0dmFyIHBvc3QgPSAkc2NvcGUucG9zdCA9IFBvc3QuZ2V0KHsgaWQ6ICRyb3V0ZVBhcmFtcy5pZCB9KTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdQb3N0L0N0cmwvUG9zdExpc3QnLCBbXG5cdCdQb3N0L1NlcnZpY2UnXG5dKVxuXG4uY29udHJvbGxlcignUG9zdExpc3RDdHJsJywgWyckc2NvcGUnLCAnUG9zdCcsIGZ1bmN0aW9uICgkc2NvcGUsIFBvc3QpIHtcblx0dmFyIHBvc3RzID0gJHNjb3BlLnBvc3RzID0gUG9zdC5saXN0KCk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9Db250cm9sbGVycycsIFtcdFxuXHQnUG9zdC9DdHJsL1Bvc3RMaXN0Jyxcblx0J1Bvc3QvQ3RybC9Qb3N0RGV0YWlsJyxcblx0J1Bvc3QvQ3RybC9Qb3N0Q3JlYXRlJ1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnUG9zdC9Sb3V0ZXMnLCBbXG5cdCdQb3N0L0NvbnRyb2xsZXJzJ1xuXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdFx0LndoZW4oJy9wb3N0cycsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAncG9zdHMvbGlzdC50cGwuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnUG9zdExpc3RDdHJsJ1xuXHRcdH0pXG5cblx0XHQud2hlbignL3Bvc3RzL2NyZWF0ZScsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAncG9zdHMvY3JlYXRlLnRwbC5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdQb3N0Q3JlYXRlQ3RybCdcblx0XHR9KVxuXG5cdFx0LndoZW4oJy9wb3N0cy86aWQnLCB7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3Bvc3RzL3Nob3cudHBsLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ1Bvc3REZXRhaWxDdHJsJ1xuXHRcdH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1Bvc3QvU2VydmljZXMnLCBbXG5cdCduZ1Jlc291cmNlJyxcblxuXHQnUG9zdC9TZXJ2aWNlJ1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnU2Vzc2lvbi9TZXJ2aWNlJywgW1xuXHQnbmdDb29raWVzJ1xuXSlcblxuLmZhY3RvcnkoJ1Nlc3Npb24nLCBbJyRodHRwJywgJyRjb29raWVTdG9yZScsIGZ1bmN0aW9uICgkaHR0cCwgJGNvb2tpZVN0b3JlKSB7XG5cdHZhciByZXMgPSAkaHR0cC5nZXQoJy9hdXRoL2NoZWNrJyk7XG5cblx0cmV0dXJuIHtcblx0XHRpc0F1dGhlbnRpY2F0ZWQ6IHJlcy50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0aWYocmVzLmRhdGEucmVzdWx0KVxuXHRcdFx0XHRyZXR1cm4ge3Jlc3VsdDogdHJ1ZX07XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiB7cmVzdWx0OiBmYWxzZX07XG5cdFx0fSksXG5cblx0XHRnZXRVc2VyOiByZXMudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdGlmKHJlcy5kYXRhLnJlc3VsdClcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhLnVzZXI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiB7cmVzdWx0OiBmYWxzZX07XG5cdFx0fSlcblx0fTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdTZXNzaW9uJywgW1xuXHQnU2Vzc2lvbi9TZXJ2aWNlJ1xuXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVXNlci9DdHJsL0F1dGgnLCBbXG5cdCdBcHAvU2VydmljZXMnXG5dKVxuXG4uY29udHJvbGxlcignQXV0aEN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICckYWxlcnQnLCAnJHNvY2tldCcsICckbG9jYXRpb24nLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGFsZXJ0LCAkc29ja2V0LCAkbG9jYXRpb24pIHtcblx0JHNvY2tldC5vbigndXNlciBhdXRoZW50aWNhdGVkJywgZnVuY3Rpb24odXNlcikge1xuXHRcdGFsZXJ0KCdDb25ncmF0dWxhdGlvbnMsICcrdXNlci51c2VybmFtZSsnLCB5b3VcXCdyZSBsb2dnZWQhJyk7XG5cdH0pO1xuXG5cdCRzb2NrZXQub24oJ3VzZXIgdW5hdXRob3JpemVkJywgZnVuY3Rpb24oKSB7XG5cdFx0YWxlcnQoJ1NvcnJ5LCB5b3UgY2FuIG5vdCBhY2Nlc3MgdGhpcyBhcmVhIScpO1xuXHR9KTtcblxuXHQkc29ja2V0Lm9uKCd1c2VyIGF1dGhlbnRpY2F0aW9uIGVycm9yJywgZnVuY3Rpb24gKCkge1xuXHRcdGFsZXJ0KCdPY29ycmV1IHVtIGVycm8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlIScpO1xuXHR9KTtcblxuXHQkc2NvcGUuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7XG5cdFx0JGh0dHAucG9zdCgnL2F1dGgvbG9jYWwnLCBjcmVkZW50aWFscykudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdHZhciB1c2VyID0gcmVzLmRhdGE7XG5cblx0XHRcdGlmKCFyZXMuZGF0YS5yZXN1bHQpXG5cdFx0XHRcdCRzb2NrZXQuZW1pdCgndXNlciB1bmF1dGhvcml6ZWQnLCB7fSk7XG5cdFx0XHRcblx0XHRcdGlmICh1c2VyLnVzZXJuYW1lKSB7XG5cdFx0XHRcdCRzb2NrZXQuZW1pdCgndXNlciBhdXRoZW50aWNhdGVkJywgdXNlcik7XG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdCRzb2NrZXQuZW1pdCgndXNlciBhdXRoZW50aWNhdGlvbiBlcnJvcicsIHt9KTtcblx0XHR9KTtcblx0fTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdVc2VyL0N0cmwvUHJvZmlsZScsIFtcblx0J1Nlc3Npb24vU2VydmljZSdcbl0pXG5cbi5jb250cm9sbGVyKCdQcm9maWxlQ3RybCcsIFsnJHNjb3BlJywgJ1Nlc3Npb24nLCBmdW5jdGlvbiAoJHNjb3BlLCBTZXNzaW9uKSB7XG5cdFNlc3Npb24uZ2V0VXNlci50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHQkc2NvcGUudXNlciA9IHVzZXI7XG5cdH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvU2VydmljZScsIFsnbmdSZXNvdXJjZSddKVxuXG4uZmFjdG9yeSgnVXNlcicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuXHRyZXR1cm4gJHJlc291cmNlICgnJywge30sIHtcblx0XHQnZ2V0Jzoge3VybDogJy9hcGkvdXNlcnMvOmlkJywgcGFyYW1zOiB7aWQ6ICdAaWQnfSwgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2V9LFxuXHRcdCdsaXN0Jzoge3VybDogJy9hcGkvdXNlcnMnLCBwYXJhbXM6IHt9LCBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlfSxcblx0XHQnc3RvcmUnOiB7dXJsOiAnL2FwaS91c2VycycsIHBhcmFtczoge30sIG1ldGhvZDogJ1BPU1QnLCBpc0FycmF5OiBmYWxzZX0sXG5cdFx0J3VwZGF0ZSc6IHt1cmw6ICcvYXBpL3VzZXJzLzppZCcsIHBhcmFtczoge2lkOiAnQGlkJ30sIG1ldGhvZDogJ1BVVCcsIGlzQXJyYXk6IGZhbHNlfSxcblx0XHQnZGVzdHJveSc6IHt1cmw6ICcvYXBpL3VzZXJzLzppZCcsIHBhcmFtczoge2lkOiAnQGlkJ30sIG1ldGhvZDogJ0RFTEVURScsIGlzQXJyYXk6IGZhbHNlfVxuXHR9KTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdVc2VyL0N0cmwvVXNlckRldGFpbCcsIFtcblx0J25nUm91dGUnLFxuXG5cdCdVc2VyL1NlcnZpY2UnXG5dKVxuXG4uY29udHJvbGxlcignVXNlckRldGFpbEN0cmwnLCBbJyRzY29wZScsICckcm91dGVQYXJhbXMnLCAnVXNlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgVXNlcikge1xuXHR2YXIgdXNlciA9ICRzY29wZS51c2VyID0gVXNlci5nZXQoeyBpZDogJHJvdXRlUGFyYW1zLmlkIH0pO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvQ3RybC9Vc2VyTGlzdCcsIFtcblx0J1VzZXIvU2VydmljZSdcbl0pXG5cbi5jb250cm9sbGVyKCdVc2VyTGlzdEN0cmwnLCBbJyRzY29wZScsICdVc2VyJywgZnVuY3Rpb24gKCRzY29wZSwgVXNlcikge1xuXHR2YXIgdXNlcnMgPSAkc2NvcGUudXNlcnMgPSBVc2VyLmxpc3QoKTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdVc2VyL0NvbnRyb2xsZXJzJywgW1xuXHQnVXNlci9DdHJsL0F1dGgnLFxuXHQnVXNlci9DdHJsL1Byb2ZpbGUnLFx0XG5cdFxuXHQnVXNlci9DdHJsL1VzZXJMaXN0Jyxcblx0J1VzZXIvQ3RybC9Vc2VyRGV0YWlsJyxcbl0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1VzZXIvUm91dGVzJywgW1xuXHQnVXNlci9Db250cm9sbGVycydcbl0pXG5cbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuXHQkcm91dGVQcm92aWRlclxuXHRcdC53aGVuKCcvcHJvZmlsZScsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAndXNlcnMvcHJvZmlsZS50cGwuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnUHJvZmlsZUN0cmwnXG5cdFx0fSk7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVXNlci9TZXJ2aWNlcycsIFtcblx0J25nUmVzb3VyY2UnLFxuXG5cdCdVc2VyL1NlcnZpY2UnXG5dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=